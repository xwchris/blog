---
title: "以太坊概览"
date: "2021-12-11"
tags: 区块链,以太坊
author: xwchris
desc: "本文翻译自外文，主要为了区块链入门，理解什么是区块链，什么是以太坊"
---

带着以下问题阅读本文

区块链基础
1. 为什么使用区块链
2. 什么是区块链
3. 区块链怎么工作

以太坊区块链
1. 什么是以太坊
2. 什么是智能合约
3. 以太坊网络
4. 分布式应用

## 什么是区块链

区块链用在多方需要分享数据和转移货币而不需要相互信任的场景

金融上称这种场景为交易对手风险：即另一方无法达成交易的风险。区块链技术通过一种由数学，加密学、点对点网络组成的革命性系统，完全移除了这种风险

区块链系统有以下特点：
- 不可变性：相比于覆盖旧的数据，区块链保留老的历史数据并创建一个新的副本。可以访问此记录来证明某条数据在某个时间存在
- 共识：对一个将被分享的数据库来说，各方都应该认同它的内容。有很多能够达成共识的方式，我们将在下面讨论其中一种-工作量证明
区块链使用这些并更近一步来解决信任问题

从根本上来说，一个区块链就是一个分享数据库，由一份交易账目组成。很像银行，简单区块账目能够记录货币所有权。不像中心化的银行，每个人都有一份账目的副本并且能够验证彼此的账户。每一个连接有账目副本的连接设备被称为“节点”。

区块链通过下列方式影响其他数据库从而消除了信任问题：
- 完全去中心化：数据库读写是完全去中心化和安全的。没有一个人或组织能够控制一个区块链
- 极度容错：容错是一个系统处理损坏数据的能力。然而容错不是区块链独有的，它只是通过每个账户共享数据库验证改变将这个概念发挥到了理论极限。
- 独立验证：交易能够不通过三方被任何人验证。这有时被称为“去中介化”

## 区块链如何工作

现在我们对为什么区块链有用的问题有一些想法了，让我们更深入的了解下它们如何工作的

区块链网络中账户间的互动称为“交易”。它们可以是货币交易，比如发送以太（以太坊的加密货币）。它们也可以使数据的传输，比如一个评论或用户名。一组交易被称为“块”

### 挖矿

任何网络上的节点都能够通过一个“挖矿”的行为安全的参与网络。选择成为矿工的节点比赛解决保护“块”内容的数学难题。

因为挖矿需要计算资源（更不要说电费了），矿工的服务可以被补偿。竞赛的获胜者可以收到一些加密货币作为回报。这会激励节点努力保护网络，防止任何单个矿工掌握过多的权利。


### 哈希

一旦一个新的“块”被挖出来，其他的矿工会被通知并开始校验，然后增加这个新“块”到链上他们的副本上。这是通过哈希加密完成的。哈希是一个单向过程，它接受数据并给出一个表示该数据的固定长度字符串。

然而源数据不能从它的哈希值被重现，一样的数据会一直声称一个的哈希值。因此，没有被验证的数据能够使用同样的函数进行映射，然后与原始数据比较。如果他们相同的，则数据是有效的。

一旦超过一般的矿工验证过新的块，那么网络就“达成共识”并且块会永久变成区块链的一部分。现在这个数据能够被所有节点下载，并保证其有效性

## 什么是以太坊

以太坊是允许你在它可信的环境中运行程序的区块链。这与比特币区块链不同，它仅允许你管理加密货币

为此，以太坊有一个虚拟机，叫做EVM。EVM允许在区块链上校验和执行代码，保证它在所以人的机器上能以同样的方式运行。这个代码被包含在“智能合约”中。

撤了追踪账户余额，以太坊在链上包含了EVM所有的状态。所有的节点都能处理智能合约以校验合约集成以及输出的完整性。

什么是智能合约

智能合约就是运行在EVM上的代码。智能合约能够接收和存储以太、数据、或者两者的结合。然后，使用编程到合约的逻辑，它能够分发以太甚至其他智能合约到其他账户

智能合约使用Solidity语言编写。Solidity是静态类型的，并且支持集成，库和复杂的用户定义类型等。Solidity语法跟javascript很接近

## 以太坊网络

到目前为止，我们一直在描述以太坊公共区块链（或称主网）。在主网上，链上的数据-包括账户余额和交易-是公用的，任何人都能够创造一个节点并且开始校验交易。网络上的以太有市场价值，它能够用来交换其他加密货币或者法定货币比如美元。

但是也还有其他的网络。事实上，任何人都能创造他们自己的以太坊网络。

### 本地测试网络

可以在本地模拟以太坊区块链进行开发。本地测试网络能够立即产生交易，并且根据需要进行以太的分发。存在一系列以太坊模拟器，我们推荐Ganache

### 公共测试网络
在最终部署到主网前，开发者使用公共测试网络（测试网）来测试以太坊应用。这些网络中的以太没有价值，它们仅仅是用作测试的目的。

有三种广泛使用的公共测试网络：
- Ropsten：以太坊团队创建的官方测试网络。它的功能与主网很相似
- Kovan：使用称为“权威证明”的共识方法的网络。这意味着它的交易由选定的成员校验，导致一直的四秒出块速度。该测试网络上的以太供应也受到控制以减少垃圾邮件的攻击
- Rinkeby：由以太坊团队创建的，同样使用“权威证明”的测试网络

### 私有/企业网络

私有以太网络允许组织间分享数据而无需公开访问。一下情况私有网络是一个很好的选择：
- 共享敏感数据，如医疗保健记录
- 由于较小的网络规模，可扩展以处理更高的读/写吞吐量

## 去中心化应用

使用智能合约进行处理和数据存储的应用程序被称为“去中心化应用”或“dapps”。这些去中心化应用的用户界面由熟悉的语言组成，如HTML、CSS和JavaScript。应用本身可以被托管在传统的web服务器或者去中心化的文件服务如Swarm和IPFS

鉴于以太坊区块链的优势，dapp可以成为许多行业的解决方案，包括但不限于：
- 记录存储
- 金融
- 供应链
- 房地产
- 市场

